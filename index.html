<html lang="en">

<header>
  <title>SYMMIO</title>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>
    // ---------------Caption visibility scroll
    window.addEventListener("scroll", function () {
      var scrollPosition = window.scrollY || document.documentElement.scrollTop;
      var scrollThreshold1 = window.innerHeight * 0.2; // page number to lower oppacity

      if (scrollPosition <= scrollThreshold1) {
        // If scrolled 50% or more, hide the element with an ease-out effect
        document.querySelector(".caption").style.opacity = "1.0";
      } else {
        document.querySelector(".caption").style.opacity = "0.0";
      }
    });
    // ---------------CaptionMobile visibility scroll
    window.addEventListener("scroll", function () {
      var scrollPosition = window.scrollY || document.documentElement.scrollTop;
      var scrollThreshold1 = window.innerHeight * 0.2; // page number to lower oppacity

      if (scrollPosition <= scrollThreshold1) {
        // If scrolled 50% or more, hide the element with an ease-out effect
        document.querySelector(".captionMobile").style.opacity = "1.0";
      } else {
        document.querySelector(".captionMobile").style.opacity = "0.0";
      }
    });


    /*--------ScrollDown visibility-------*/

    window.addEventListener("scroll", function () {
      var scrollPosition = window.scrollY || document.documentElement.scrollTop;
      var scrollThreshold1 = window.innerHeight * 0.5; // page number to lower oppacity
      var scrollThreshold2 = window.innerHeight * 8.0; // page number to hide

      if (scrollPosition <= scrollThreshold1) {
        // If scrolled 50% or more, hide the element with an ease-out effect
        document.querySelector(".scrollDown").style.opacity = "1.0";
      } else if (scrollPosition <= scrollThreshold2) {
        // Otherwise, show the element with ease-in effect
        document.querySelector(".scrollDown").style.opacity = "0.2";
      } else {
        document.querySelector(".scrollDown").style.opacity = "0.0";
      }
    });



    ///////--------------------------- Big screen menu settings
    $(document).on("click", 'a[href^="#"]', function (event) {
      event.preventDefault();

      $("html, body").animate(
        {
          scrollTop: $($.attr(this, "href")).offset().top,
        },
        500
      );
    });

    $(document).ready(function () {
      function isElementInViewport(elem) {
        var rect = elem.getBoundingClientRect();
        return (
          rect.top >= 0 &&
          rect.bottom <=
          (window.innerHeight || document.documentElement.clientHeight)
        );
      }

      function activateMenuItem() {
        $(".section").each(function () {
          if (isElementInViewport(this)) {
            var sectionId = $(this).attr("id");
            $(".menu__item").removeClass("menu__item--current");
            $(".menu__link[href='#" + sectionId + "']")
              .parent()
              .addClass("menu__item--current");
          }
        });
      }

      function activateMenuItem() {
        var scrollPosition = $(window).scrollTop();

        $(".section").each(function () {
          var sectionId = $(this).attr("id");
          var sectionTop = $(this).offset().top;
          var sectionHeight = $(this).outerHeight();

          if (
            scrollPosition >= sectionTop &&
            scrollPosition < sectionTop + sectionHeight
          ) {
            $(".menu__item").removeClass("menu__item--current");
            $(".menu__link[href='#" + sectionId + "']")
              .parent()
              .addClass("menu__item--current");
          }
        });
      }

      activateMenuItem();

      $(window).on("scroll", function () {
        activateMenuItem();
      });

      $(document).on("click", ".menu__link", function (event) {
        event.preventDefault();

        var target = $($(this).attr("href"));

        if (target.length) {
          $("html, body").animate(
            {
              scrollTop: target.offset().top,
            },
            500
          );
        }
      });
    });

    $(document).on("click", 'button[href^="#"]', function (event) {
      event.preventDefault();

      $("html, body").animate(
        {
          scrollTop: $($.attr(this, "href")).offset().top,
        },
        500
      );
    });

    function setup() {
      $(".menu__item").first().addClass("menu__item--current");
    }

    $(document).on("click", ".menu__link", function (event) {
      event.preventDefault();

      var target = $($(this).attr("href"));

      if (target.length) {
        $("html, body").animate(
          {
            scrollTop: target.offset().top,
          },
          1000
        );
      }
    });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/109/three.min.js"></script>

  <script src="https://unpkg.com/gsap@3.5.1/dist/ScrollTrigger.min.js"></script>
  <script src="https://unpkg.com/gsap@3.5.1/dist/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.0/TextPlugin.min.js"></script>
  <script>function updateScrollProgress() {
      const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
      const currentScroll = window.scrollY;
      scrollProgress = currentScroll / maxScroll;

      if (uniforms && uniforms.iScrollProgress) {
        uniforms.iScrollProgress.value = scrollProgress;
      }
    }



    // Set up content scroll triggers
    function setupContentScrollTrigger() {
      const content = [
        {
          list_top: "",
          title: "",
          subtitle: "Reimagining bilateral OTC Derivatives by combining them with Intent-Based execution. Allowing permissionless leverage trading of any asset, with hyperefficient just-in-time liquidity.",
          titleSYMM: "SYMMIO",
          list_top: "",
          selector: ".section.one"
        },
        {
          titleSYMM: "",
          title: "",
          subtitle: "",
          list_top: "<span class= head-span>HOW TO TRADE INTENTs</span> "
            + "</br></br>"
            + " <span>• Formulate and create your INTENT</span></br>"
            + " <span>• Send your INTENT to the pool</span></br>"
            + " <span>• HEDGERs see your INTENT</span></br>"
            + " <span>• A HEDGER accepts your INTENT</span></br>"
            + " <span>• INTENTs make up the trade</span>",
          selector: ".section.two"
        },
        {
          titleSYMM: "",
          title: "",
          subtitle: "",
          list_top: "<span class= head-span>HOW TO TRADE INTENTs</span> "
            + "</br></br>"
            + " <span class=active-span>• Formulate and create your INTENT</span></br>"
            + " <span>• Send your INTENT to the pool</span></br>"
            + " <span>• HEDGERs see your INTENT</span></br>"
            + " <span>• A HEDGER accepts your INTENT</span></br>"
            + " <span>• INTENTs make up the trade</span>",
          selector: ".section.three"
        },
        {
          titleSYMM: "",
          title: "",
          subtitle: "",
          list_top: "<span class= head-span>HOW TO TRADE INTENTs</span> "
            + "</br></br>"
            + " <span>• Formulate and create your INTENT</span></br>"
            + " <span class=active-span>• Send your INTENT to the pool</span></br>"
            + " <span>• HEDGERs see your INTENT</span></br>"
            + " <span>• A HEDGER accepts your INTENT</span></br>"
            + " <span>• INTENTs make up the trade</span>"
            + "</br></br>",
          selector: ".section.four"
        },
        {
          titleSYMM: "",
          title: "",
          subtitle: "",
          list_top: "<span class= head-span>HOW TO TRADE INTENTs</span> "
            + "</br></br>"
            + " <span>• Formulate and create your INTENT</span></br>"
            + " <span>• Send your INTENT to the pool</span></br>"
            + " <span class=active-span>• HEDGERs see your INTENT</span></br>"
            + " <span>• A HEDGER accepts your INTENT</span></br>"
            + " <span>• INTENTs make up the trade</span>",
          selector: ".section.five"
        },
        {
          titleSYMM: "",
          title: "",
          subtitle: "",
          list_top: "<span class= head-span>HOW TO TRADE INTENTs</span>"
            + "</br></br>"
            + " <span>• Formulate and create your INTENT</span></br>"
            + " <span >• Send your INTENT to the pool</span></br>"
            + " <span>• HEDGERs see your INTENT</span></br>"
            + " <span class=active-span>• A HEDGER accepts your INTENT</span></br>"
            + " <span>• INTENTs make up the trade</span>",
          selector: ".section.six"
        },
        {
          titleSYMM: "",
          title: "",
          subtitle: "",
          list_top: "<span class= head-span>HOW TO TRADE INTENTs</span> "
            + "</br></br>"
            + " <span>• Formulate and create your INTENT</span></br>"
            + " <span >• Send your INTENT to the pool</span></br>"
            + " <span>• HEDGERs see your INTENT</span></br>"
            + " <span>• A HEDGER accepts your INTENT</span></br>"
            + " <span class=active-span>• INTENTs make up the trade</span>",
          selector: ".section.seven"
        },
        {
          titleSYMM: "",
          list_top: "",
          title: /*"Neutral Parties as WATCHDOGS"*/"",
          subtitle:/*"Liquidators make sure that all PartyA and PartyB pairs are playing by the rules, and are constantly ensuring their solvency. Otherwise they will get liquidated, which makes the system trustless as well as capital efficient."*/"",
          list_top: "<span class= head-span>Neutral Parties as WATCHDOGS</span> "
            + "</br></br>"

            + " <span class=active-span>Liquidators make sure that all PartyA and PartyB pairs are playing by the rules, and are constantly ensuring their solvency. Otherwise they will get liquidated, which makes the system trustless as well as capital efficient.</span></br>",
          selector: ".section.eight"
        },
        {
          titleSYMM: "",
          title: "",
          subtitle: "",
          list_top: "<span class= head-span>PartyA and PartyB are SYMMETRICAL</span> "
            + "</br></br>"

            + " <span class=active-span>exact mirrors of the same position.</span></br>"
            + " <span class=active-span>one Side LONGs 1 BTC,</span></br>"
            + " <span class=active-span>other side SHORTs 1 BTC,</span></br>"
            + " <span class=active-span>no PartyA & B pair = no trade.</span></br>"
            + " <span class=active-span>Loss of A = Win of B,</span></br>"
            + " <span class=active-span>SYMMETRICAL TRADING.</span>",
          selector: ".section.nine"
        },
        {
          titleSYMM: "",
          title: "",
          subtitle: "",
          list_top: "<span class= head-span>INTENT to know more?</span> ",
          selector: ".section.ten"
        }
        // ... (add more content sections as needed)
      ];

      content.forEach((item, i, arr) => {
        const onUpdate = function () {
          const time = this.time();
          const duration = this.duration();

          if (time >= duration || time <= 0) {
            return;
          }
        };

        const timeline = new gsap.timeline({
          scrollTrigger: {
            trigger: item.selector,
            scrub: true,
            start: "top 75%",
            end: `bottom ${i < arr.length - 1 ? "75%" : "bottom"}`
          }
        })
          .to(
            `${item.selector} .title`,
            { text: `${item.title}`, ease: "linear", duration: 0.125, onUpdate },
            0
          )
          .to(
            `${item.selector} .titleSYMM`,
            { text: `${item.titleSYMM}`, ease: "linear", duration: 0.125, onUpdate },
            0
          )
          .to(
            `${item.selector} .subtitle`,
            {
              text: `${item.subtitle}`,
              ease: "linear",
              duration: 0.0625,
              onUpdate
            },
            0
          )
          .to(
            `${item.selector} .list_top`,
            { text: `${item.list_top}`, ease: "linear", duration: 0, onUpdate },
            0
          );

        if (i < arr.length - 1) {
          timeline.yoyo(true).repeat(1).repeatDelay(0.5);
        }
      });
    }
  </script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Manrope:wght@300&display=swap');

    html {
      scroll-snap-type: y mandatory;
      overflow: auto;
      overflow-x: hidden;
      scroll-behavior: smooth;

    }


    /*------------------------------------------- Scroll bar */
    html::-webkit-scrollbar {
      width: 2px;
      padding-right: 10px;
      /* Adjust as needed */
    }

    /* Style the track (optional) */
    html::-webkit-scrollbar-track {
      background-color: rgb(44, 32, 32);
    }

    /* Style the thumb (optional) */
    html::-webkit-scrollbar-thumb {
      background-color: rgb(255, 68, 68);
    }


    /*-------------------------------------------  */

    html .section {
      scroll-snap-align: start;
      height: 100vh;
      width: 100%;
      position: relative;
    }


    canvas {
      font-family: "Manrope", sans-serif;
      display: block;
      position: fixed !important;
    }

    /*-------------------------------------------  */

    .box__text {
      font-family: 'Manrope', sans-serif;
      text-align: center;
      top: 0vh;
      margin-bottom: 5vh;
      color: white !important;
      position: fixed;
      width: 100%;

      z-index: 2;
      display: flex;
      flex-direction: column;

    }


    .box__text .subtitle {
      padding-top: 22vh;
      padding-right: 10vh;
      padding-left: 10vh;
      font-size: 1.5vw;
      align-self: center;
      text-align: center;
      /* Add this line */
      text-shadow: 5px 5px 8px #000000;
    }


    .box__text .titleSYMM {
      width: 100%;
      letter-spacing: 7vw;
      position: fixed;
      text-align: center;
      font-size: 8vw;
      margin-left: 4vw;
      bottom: 0.1vh;
    }

    .box__text .list_top {
      font-size: 2vh;
      position: fixed;
      left: 10%;
      top: 20%;
      width: 40%;
      color: gray;
      text-align: left;

    }

    .box__text .list_top .head-span {

      font-size: 4vh;
      letter-spacing: 0;
      -webkit-text-fill-color: transparent;
      background-image: linear-gradient(to right, #fff, #ff8383) !important;
      background-clip: text;
      -webkit-background-clip: text;
      margin-top: 0;
      font-weight: 600;
      line-height: 1.25;
    }

    .box__text .list_top .active-span {

      color: white;
    }



    .gradiant {
      -webkit-text-fill-color: transparent;
      background-image: linear-gradient(to right, #fff, #ff8383) !important;
      background-clip: text;
      -webkit-background-clip: text;

    }


    .caption {
      -webkit-text-fill-color: transparent;
      background-image: linear-gradient(to right, #fff, #ff8383);
      background-clip: text;
      -webkit-background-clip: text;
      width: 80vw;
      line-height: 6vh;
      font-size: 6vh;
      position: relative;
      position: fixed;
      z-index: 99;
      top: 0;
      transform: translateY(-50%);
      padding-top: 32vh;
      padding-left: 20vw;

      transition: opacity 0.1s ease-out, transform 0.5s ease-out;
      /* Add transition for ease-out effect */

    }

    .captionMobile {
      -webkit-text-fill-color: transparent;
      background-image: linear-gradient(to right, #fff, #ff3131);
      background-clip: text;
      -webkit-background-clip: text;
      width: 130vw;
      /* Set width to auto to allow the element to take its content's width */
      line-height: 3vh;
      font-size: 3vh;
      position: fixed;
      z-index: 99;
      left: 78vw;
      /* Set the left position to 50% */
      transform: translateX(-70vw);
      /* Use transform to horizontally center the element */
      padding-top: 23vh;
      transition: opacity 0.1s ease-out, transform 0.5s ease-out;
      /* Add transition for ease-out effect */
      visibility: hidden;
    }

    .captionMobile .first-line {
      margin-left: 20vw;
    }

    .text-box {
      -webkit-text-fill-color: rgb(255, 171, 171) !important;
      display: inline-block;
      position: relative;
    }

    .text-box div {
      display: inline-block;
      position: absolute;
      transform: rotateX(-90deg);
      opacity: 0;
      animation-timing-function: ease;
    }

    .text-box div:nth-child(1) {
      animation: rollDown 20s forwards infinite;
    }

    .text-box div:nth-child(2) {
      animation: rollDown2 20s forwards infinite;
    }

    .text-box div:nth-child(3) {
      animation: rollDown3 20s forwards infinite;
    }

    .text-box div:nth-child(4) {
      animation: rollDown4 20s forwards infinite;
    }

    .text-box div:nth-child(5) {
      animation: rollDown5 20s forwards infinite;
    }

    .text-box div:nth-child(6) {
      animation: rollDown6 20s forwards infinite;
    }

    .text-box div:nth-child(7) {
      animation: rollDown7 20s forwards infinite;
    }

    .text-box div:nth-child(8) {
      animation: rollDown8 20s forwards infinite;
    }

    .text-box div:nth-child(9) {
      animation: rollDown9 20s forwards infinite;
    }

    .text-box div:nth-child(10) {
      animation: rollDown10 20s forwards infinite;
    }


    @keyframes rollDown {
      0% {
        top: -16vh;
        transform: rotateX(-90deg);
      }

      1% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      8% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      9% {
        top: 16vh;
        transform: rotateX(30deg);
        opacity: 0;
      }
    }

    @keyframes rollDown2 {
      9% {
        top: -16vh;
        transform: rotateX(-90deg);
      }

      10% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      18% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      19% {
        top: 16vh;
        transform: rotateX(30deg);
        opacity: 0;
      }
    }

    @keyframes rollDown3 {
      19% {
        top: -16vh;
        transform: rotateX(-90deg);
      }

      20% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      28% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      29% {
        top: 16vh;
        transform: rotateX(30deg);
        opacity: 0;
      }
    }

    @keyframes rollDown4 {
      29% {
        top: -16vh;
        transform: rotateX(-90deg);
      }

      30% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      38% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      39% {
        top: 16vh;
        transform: rotateX(30deg);
        opacity: 0;
      }
    }

    @keyframes rollDown5 {
      39% {
        top: -16vh;
        transform: rotateX(-90deg);
      }

      40% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      48% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      49% {
        top: 16vh;
        transform: rotateX(30deg);
        opacity: 0;
      }
    }

    @keyframes rollDown6 {
      49% {
        top: -16vh;
        transform: rotateX(-90deg);
      }

      50% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      58% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      59% {
        top: 16vh;
        transform: rotateX(30deg);
        opacity: 0;
      }
    }

    @keyframes rollDown7 {
      59% {
        top: -16vh;
        transform: rotateX(-90deg);
      }

      60% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      68% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      69% {
        top: 16vh;
        transform: rotateX(30deg);
        opacity: 0;
      }
    }

    @keyframes rollDown8 {
      70% {
        top: -16vh;
        transform: rotateX(-90deg);
      }

      71% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      78% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      79% {
        top: 16vh;
        transform: rotateX(30deg);
        opacity: 0;
      }
    }

    @keyframes rollDown9 {
      80% {
        top: -16vh;
        transform: rotateX(-90deg);
      }

      81% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      88% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      89% {
        top: 16vh;
        transform: rotateX(30deg);
        opacity: 0;
      }
    }

    @keyframes rollDown10 {
      89% {
        top: -16vh;
        transform: rotateX(-90deg);
      }

      90% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      98% {
        top: -5.5vh;
        transform: rotateX(0deg);
        opacity: 1;
      }

      99% {
        top: 16vh;
        transform: rotateX(30deg);
        opacity: 0;
      }
    }






    .scrollDown {
      position: absolute;
      position: fixed;
      z-index: 99;
      right: 3.0vw;
      transition: opacity 0.5s ease-out, transform 0.5s ease-out;
      /* Add transition for ease-out effect */
      text-decoration: none;
      bottom: 4.5vh;
    }





    .chevron {
      position: absolute;
      width: 4vw;
      height: 0.4vh;
      opacity: 0;
      animation: move 3s ease-out infinite;
    }

    .chevron:first-child {
      animation: move 3s ease-out 1s infinite;
    }

    .chevron:nth-child(2) {
      animation: move 3s ease-out 2s infinite;
    }

    .chevron:before,
    .chevron:after {
      content: ' ';
      position: absolute;
      height: 100%;
      width: 51%;
      background: #fff;
    }

    .chevron:before {
      left: 0;
      transform: skew(0deg, 30deg);
    }

    .chevron:after {
      right: 0;
      width: 50%;
      transform: skew(0deg, -30deg);
    }

    @keyframes move {
      25% {
        opacity: 1;

      }

      33% {
        opacity: 1;
        transform: translateY(1vh);
      }

      67% {
        opacity: 1;
        transform: translateY(2vh);
      }

      100% {
        opacity: 0;
        transform: translateY(3vh);
      }
    }

    .text {
      display: block;
      margin-top: 5vh;
      font-size: 1vw;
      color: #fff;
      text-transform: uppercase;
      white-space: nowrap;
      opacity: .25;
      animation: pulse 2s linear alternate infinite;
      text-decoration: none;
      /* Remove underline */

    }

    @keyframes pulse {
      to {
        opacity: 1;
      }
    }








    /*------------------------- small screens */

    @media screen and (max-width: 900px) {

      .box__text .titleSYMM {
        width: 100%;
        letter-spacing: 5vw;
        position: fixed;
        text-align: center;
        font-size: 16vw;
        margin-left: 2vw;
        top: 8.5vh;
      }

      .box__text .subtitle {
        padding-top: 32vh;
        padding-right: 2vw;
        padding-left: 2vw;
        font-size: 3.5vw;
        align-self: center;
        text-align: center;
        /* Add this line */
        text-shadow: 5px 5px 8px #000000;
      }

      .scrollDown {
        position: absolute;
        position: fixed;
        z-index: 99;
        transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        /* Add transition for ease-out effect */
        text-decoration: none;
        /* Remove underline */
        bottom: 0.0vh;
        right: 0.0vw;

      }

      .chevron {
        position: absolute;
        width: 20vw;
        height: 0.4vh;
        opacity: 0;
        animation: move 3s ease-out infinite;
      }

      .text {
        margin-right: 56vw;
        visibility: hidden;
      }

      .caption {
        visibility: hidden;
      }

      .captionMobile {
        visibility: visible;
      }


      @keyframes rollDown {
        0% {
          top: -16vh;
          transform: rotateX(-90deg);
        }

        1% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        8% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        9% {
          top: 16vh;
          transform: rotateX(30deg);
          opacity: 0;
        }
      }

      @keyframes rollDown2 {
        9% {
          top: -16vh;
          transform: rotateX(-90deg);
        }

        10% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        18% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        19% {
          top: 16vh;
          transform: rotateX(30deg);
          opacity: 0;
        }
      }

      @keyframes rollDown3 {
        19% {
          top: -16vh;
          transform: rotateX(-90deg);
        }

        20% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        28% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        29% {
          top: 16vh;
          transform: rotateX(30deg);
          opacity: 0;
        }
      }

      @keyframes rollDown4 {
        29% {
          top: -16vh;
          transform: rotateX(-90deg);
        }

        30% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        38% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        39% {
          top: 16vh;
          transform: rotateX(30deg);
          opacity: 0;
        }
      }

      @keyframes rollDown5 {
        39% {
          top: -16vh;
          transform: rotateX(-90deg);
        }

        40% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        48% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        49% {
          top: 16vh;
          transform: rotateX(30deg);
          opacity: 0;
        }
      }

      @keyframes rollDown6 {
        49% {
          top: -16vh;
          transform: rotateX(-90deg);
        }

        50% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        58% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        59% {
          top: 16vh;
          transform: rotateX(30deg);
          opacity: 0;
        }
      }

      @keyframes rollDown7 {
        59% {
          top: -16vh;
          transform: rotateX(-90deg);
        }

        60% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        68% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        69% {
          top: 16vh;
          transform: rotateX(30deg);
          opacity: 0;
        }
      }

      @keyframes rollDown8 {
        70% {
          top: -16vh;
          transform: rotateX(-90deg);
        }

        71% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        78% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        79% {
          top: 16vh;
          transform: rotateX(30deg);
          opacity: 0;
        }
      }

      @keyframes rollDown9 {
        80% {
          top: -16vh;
          transform: rotateX(-90deg);
        }

        81% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        88% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        89% {
          top: 16vh;
          transform: rotateX(30deg);
          opacity: 0;
        }
      }

      @keyframes rollDown10 {
        89% {
          top: -16vh;
          transform: rotateX(-90deg);
        }

        90% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        98% {
          top: -2.6vh;
          transform: rotateX(0deg);
          opacity: 1;
        }

        99% {
          top: 16vh;
          transform: rotateX(30deg);
          opacity: 0;
        }
      }




      .box__text .list_top {
        font-size: 2vh;
        position: fixed;
        left: 10%;
        top: 10%;
        width: 80%;
        color: gray;
        text-align: left;

      }

      .box__text .list_top .head-span {

        font-size: 4vh;
        letter-spacing: 0;
        -webkit-text-fill-color: transparent;
        background-image: linear-gradient(to right, #fff, #ff8383) !important;
        background-clip: text;
        -webkit-background-clip: text;
        margin-top: 0;
        font-weight: 600;
        line-height: 1.25;
      }
    }
  </style>
  <style>
    .red {
      -webkit-text-fill-color: rgb(255, 94, 94) !important;
    }


    /* Variables */
    :root {
      --white: #FFFFFF;
      --red: #FF4444;
      --blue: #FFAAAA;
    }



    /* Global styles */
    *,
    *:before,
    *:after {
      box-sizing: border-box;
    }

    /* Menu styles */
    .menu__list {
      position: fixed;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 2vh;
      margin-right: 2vh;
      padding: 0;
      list-style: none;
      z-index: 100;
      right: 0;
      /* Add this line to position it to the right */
    }



    .menu__item {
      display: block;
      margin: 1em 0;
      margin: 0 .5em;
    }


    /* Link and Reset button styles */
    nav[role="custom-dropdown"] ul>li>a,
    .menu__link,
    .reset {
      font-family: "Manrope", sans-serif;
      font-weight: 300;
      font-size: 1vw;
      display: block;
      padding: .4em 1em;
      cursor: pointer;
      user-select: none;
      -webkit-touch-callout: none;
      -khtml-user-select: none;
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      position: relative;
      text-align: center;
      color: var(--white);
      background: none;
      border: none;
      text-decoration: none;
      text-transform: uppercase;
      transition: color 0.3s;
    }


    .menu__link:hover,
    .menu__link:focus,
    .reset:hover,
    .reset:focus,
    nav[role="custom-dropdown"] ul>li:hover {
      outline: none;
      color: var(--red);
    }

    /* Remove color change on :active state */
    .menu__link:active {
      color: inherit;
      /* Use the default text color */
    }

    .menu__item--current .menu__link {
      color: var(--blue);
    }

    .menu__item--current .menu__link:before,
    .menu__item--current .menu__link:after {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }


    .menu__link:before,
    .menu__link:after {
      content: '';
      position: absolute;
      width: 10px;
      height: 10px;
      opacity: 0;
      border: 2px solid var(--red);
      transition: transform 0.3s, opacity 0.3s;
      transition-timing-function: cubic-bezier(0.17, 0.67, 0.05, 1.29);
    }

    .menu__link.active-span {
      position: absolute;
      width: 10px;
      height: 10px;
      opacity: 0;
      border: 2px solid var(--red);
      transition: transform 0.3s, opacity 0.3s;
      transition-timing-function: cubic-bezier(0.17, 0.67, 0.05, 1.29);
    }


    .menu__link:before {
      top: 0;
      left: 0;
      border-width: 2px 0 0 2px;
      transform: translate3d(10px, 10px, 0);
    }

    .menu__link:after {
      right: 0;
      bottom: 0;
      border-width: 0 2px 2px 0;
      transform: translate3d(-10px, -10px, 0);
    }

    /* Reset button styles */
    .reset {
      border: solid 2px var(--red);
      border-radius: 6px;
      margin: 0 auto;
    }











    /*------------------------- custom-dropdown */

    /* Variables */
    :root {
      --number-of-links: 5;
      --hamburger-menu-width: 1.5vw;
      --hamburger-menu-height: 4vh;
      --hamburger-menu-x-position: 60px;
      --hamburger-menu-y-position: 20px;
      --hamburger-icon-background-color: #ffffff;
      --hamburger-icon-width: 10vw;
      --hamburger-icon-height: 2px;
      --hamburger-icon-rotate-deg: 45deg;
      --hamburger-icon-transform-time: 350ms;
      --overlay-background-color: rgba(0, 0, 0, 0.5);
      --menu-link-default-color: #e2e2e2;
      --menu-link-hover-color: #ffffff;
      --menu-link-emboss-color: rgba(0, 0, 0, 0.8);
      --menu-link-shine-color: #ffffff;
      --menu-link-font-size: 3em;
      --menu-link-spacing: 25px;
      --menu-link-shine-size: 25px;
      --menu-link-hover-transition-time: 175ms;
      --menu-link-hover-transition-time-scale: 275ms;
      --menu-link-show-transition-time: 350ms;
    }


    /* .menu-trigger */
    .menu-trigger {
      display: none;
    }

    /* .overlay */
    .overlay {
      width: 0;
      height: 0;
      position: fixed;
      z-index: 200;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .menu-trigger:checked+.overlay {
      background-color: #00000010;
      width: 100%;
      height: 100%;
      -webkit-backdrop-filter: blur(25px);
      backdrop-filter: blur(5px);
      transition: none;
    }


    /* .menu-links */
    .menu-links {
      font-size: var(--menu-link-font-size);
      list-style-type: none;
    }

    .menu-links li {
      text-align: center;
      margin: var(--menu-link-spacing) 0;
    }

    .menu-links li a {
      font-family: "Manrope", sans-serif;
      font-weight: 300;
      font-size: 8vw;
      color: var(--menu-link-default-color);
      display: block;
      text-decoration: none;
      text-shadow: 0 -1px var(--menu-link-emboss-color), 0 0 0 var(--menu-link-shine-color);
      opacity: 0;
      transform: translateX(-25%);
      transition: color var(--menu-link-hover-transition-time) ease-out, text-shadow var(--menu-link-hover-transition-time) ease-out, opacity var(--menu-link-hover-transition-time) ease-out, transform var(--menu-link-hover-transition-time-scale) cubic-bezier(0.18, 0.89, 0.32, 1.28);
    }

    .menu-links li:hover {
      transform: scale(1.2);
    }

    .menu-links li:hover a {
      color: var(--menu-link-hover-color);
      text-shadow: 0 -1px var(--menu-link-emboss-color), 0 0 var(--menu-link-shine-size) var(--menu-link-shine-color);
    }

    .menu-trigger:checked+.overlay .menu-links li a {
      transform: translateX(0);
      opacity: 1;
      transition: opacity var(--menu-link-show-transition-time) ease-out, transform var(--menu-link-show-transition-time) ease-out var(--overlay-animation-timing) calc(0.5 * (var(--menu-link-show-transition-time) / var(--number-of-links)));
    }



    /* .hamburger-menu */
    .hamburger-menu {
      width: var(--hamburger-menu-width);
      height: var(--hamburger-menu-height);
      position: fixed;
      z-index: 999;
      top: var(--hamburger-menu-y-position);
      right: var(--hamburger-menu-x-position);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      cursor: pointer;
      visibility: hidden;

    }

    .hamburger-menu span {
      background-color: var(--hamburger-icon-background-color);
      width: var(--hamburger-icon-width);
      height: var(--hamburger-icon-height);
      flex-grow: 0;
      display: block;
      transition: transform var(--hamburger-icon-transform-time) ease-out;
      transform-origin: center;
    }

    .menu-trigger:checked~.hamburger-menu span:nth-child(1) {
      transform: translateY(calc((var(--hamburger-menu-height) / 2) - (var(--hamburger-icon-height) / 2))) rotate(var(--hamburger-icon-rotate-deg));
    }

    .menu-trigger:checked~.hamburger-menu span:nth-child(2) {
      transform: scale(1, 0) translateX(-100%);
    }

    .menu-trigger:checked~.hamburger-menu span:nth-child(3) {
      transform: translateY(calc(-1 * (var(--hamburger-menu-height) / 2) + (var(--hamburger-icon-height) / 2))) rotate(calc(-1 * var(--hamburger-icon-rotate-deg)));
    }


    /* -------------------------------------------------------------small screens */
    @media screen and (max-width: 900px) {

      /* Menu styles */
      .menu__list {
        visibility: hidden;
      }

      .hamburger-menu {
        visibility: visible;
      }
    }
  </style>
  <nav>
    <ul class="menu__list">
      <li class="menu__item">
        <button class="menu__link" href="#Home">Home</button>
      </li>
      <li class="menu__item">
        <button class="menu__link" href="#HowItWorks">How it works</button>
      </li>
      <li class="menu__item">
        <button class="menu__link" href="#reachus">learn more</button>
      </li>
      <li><button class="reset">Trade</button>
      </li>
    </ul>
  </nav>


</header>

<body>

  <div id="webgl-container"></div>

  <input type="checkbox" id="menu_trigger" class="menu-trigger">
  <div class="overlay">
    <ul class="menu-links">
      <li><a id="link" href="#Home">Home</a></li>
      <li><a id="link" href="#HowItWorks">How it works</a></li>
      <li><a id="link" href="#reachus">learn more</a></li>
      <li><a id="link" class="red" href="#">TRADE</a></li>
    </ul>
  </div>
  <label for="menu_trigger" class="hamburger-menu">
    <span></span>
    <span></span>
    <span></span>
  </label>

  <script>
    // --------------Hambergur menu script
    const menuTrigger = document.querySelector('.menu-trigger');
    const overlay = document.querySelector('.overlay');

    // Get references to all menu links
    const menuLinks = document.querySelectorAll('.menu-links li a');

    // Add a click event listener to each menu link
    menuLinks.forEach(link => {
      link.addEventListener('click', () => {
        // Hide the overlay
        if (menuTrigger.checked = true) {
          menuTrigger.checked = false;
        }
      });
    });
  </script>

  <div class="section one " id="Home">
    <a class="scrollDown">
      <span class="chevron"></span>
      <span class="chevron"></span>
      <span class="chevron"></span>
      <span class="text">[ more ]</span>
    </a>

    <div class="caption ">
      A protocol for SYMMETRICAL
      <div class="text-box">
        <div>CRYPTOS</div>
        <div>COMMODITIES</div>
        <div>AGREEMENTS</div>
        <div>FUTURES</div>
        <div>TRADING</div>
        <div>OPTIONS</div>
        <div>DERIVATIVES</div>
        <div>PERPETUALS</div>
        <div>BONDS</div>
        <div>STOCKS</div>
      </div>
    </div>
    <div class="captionMobile ">
      <span class="first-line">A protocol for</span><br>
      SYMMETRICAL
      <div class="text-box">
        <div>CRYPTOS</div>
        <div>COMMODITIES</div>
        <div>AGREEMENTS</div>
        <div>FUTURES</div>
        <div>TRADING</div>
        <div>OPTIONS</div>
        <div>DERIVATIVES</div>
        <div>PERPETUALS</div>
        <div>BONDS</div>
        <div>STOCKS</div>
      </div>
    </div>

    <div class="box__text">

      <div class="list_top"></div>
      <div class="titleSYMM "></div>
      <div class="title gradiant"></div>
      <div class="subtitle"></div>
    </div>
  </div>

  <div class="section two" id="HowItWorks">
    <div class="box__text">
      <div class="list_top"></div>
      <div class="subtitle"></div>
      <div class="title"></div>
      <div class="titleSYMM "></div>
      <div class="list_top"></div>
    </div>
  </div>

  <div class="section three" id="HowItWorks">
    <div class="box__text">
      <div class="list_top"></div>
      <div class="title"></div>
      <div class="subtitle"></div>
      <div class="titleSYMM "></div>
    </div>
  </div>

  <div class="section four" id="HowItWorks">
    <div class="box__text">
      <div class="list_top"></div>
      <div class="titleSYMM "></div>
      <div class="subtitle"></div>
      <div class="title"></div>
    </div>
  </div>

  <div class="section five" id="HowItWorks">
    <div class="box__text">
      <div class="list_top"></div>
      <div class="subtitle"></div>
      <div class="title"></div>
      <div class="titleSYMM "></div>
    </div>
  </div>

  <div class="section six" id="HowItWorks">
    <div class="box__text">
      <div class="list_top"></div>
      <div class="title"></div>
      <div class="subtitle"></div>
      <div class="titleSYMM "></div>
    </div>
  </div>

  <div class="section seven" id="HowItWorks">
    <div class="box__text">
      <div class="title"></div>
      <div class="list_top"></div>
      <div class="subtitle"></div>
      <div class="titleSYMM "></div>

    </div>
  </div>

  <div class="section eight" id="HowItWorks">
    <div class="box__text">
      <div class="list_top"></div>
      <div class="titleSYMM "></div>
      <div class="title gradiant"></div>
      <div class="subtitle"></div>
    </div>
  </div>

  <div class="section nine" id="HowItWorks">
    <div class="box__text">
      <div class="subtitle"></div>
      <div class="titleSYMM "></div>
      <div class="title"></div>
      <div class="list_top"></div>
    </div>
  </div>

  <div class="section ten" id="reachus">
    <div class="box__text">
      <div class="list_top"></div>
      <div class="subtitle"></div>
      <div class="titleSYMM "></div>
      <div class="title"></div>
    </div>
  </div>

</body>

</html>


<script id="fragmentShader" type="x-shader/x-fragment">


// ---------------------------------------------------- Settings

#extension GL_OES_standard_derivatives : enable
#ifdef GL_ES
precision lowp float;
#endif

uniform sampler2D myTexture;
varying vec2 texcoord;
uniform vec2 iResolution;
uniform float iTime;
uniform vec2 iMousePos;
vec2 mousePos = (iMousePos / iResolution.xy - .5) * 0.3;
uniform float iScrollProgress;
uniform vec3 iAnimProgress_1;
uniform vec3 iAnimProgress_2;
uniform vec3 iAnimProgress_3;

#define PI          3.141592654
#define TAU         (2.0*PI)
#define SCA(a)      vec2(sin(a), cos(a))
#define HSV2RGB(c)  (c.z * mix(hsv2rgb_K.xxx, clamp(abs(fract(c.xxx + hsv2rgb_K.xyz) * 6.0 - hsv2rgb_K.www) - hsv2rgb_K.xxx, 0.0, 1.0), c.y))

// ---------------------------------------------------- Font
#define CHAR_SIZE vec2(6, 7)
#define CHAR_SPACING vec2(6, 9)

#define STRWIDTH(c) (c * CHAR_SPACING.x)
#define STRHEIGHT(c) (c * CHAR_SPACING.y)

vec2 ch_spc = vec2(0.0, 0.0);
vec2 ch_exc = vec2(276705.0, 32776.0);
vec2 ch_quo = vec2(1797408.0, 0.0);
vec2 ch_hsh = vec2(10738.0, 1134484.0);
vec2 ch_dol = vec2(538883.0, 19976.0);
vec2 ch_pct = vec2(1664033.0, 68006.0);
vec2 ch_amp = vec2(545090.0, 174362.0);
vec2 ch_apo = vec2(798848.0, 0.0);
vec2 ch_lbr = vec2(270466.0, 66568.0);
vec2 ch_rbr = vec2(528449.0, 33296.0);
vec2 ch_ast = vec2(10471.0, 1688832.0);
vec2 ch_crs = vec2(4167.0, 1606144.0);
vec2 ch_per = vec2(0.0, 1560.0);
vec2 ch_dsh = vec2(7.0, 1572864.0);
vec2 ch_com = vec2(0.0, 1544.0);
vec2 ch_lsl = vec2(1057.0, 67584.0);
vec2 ch_0 = vec2(935221.0, 731292.0);
vec2 ch_1 = vec2(274497.0, 33308.0);
vec2 ch_2 = vec2(934929.0, 1116222.0);
vec2 ch_3 = vec2(934931.0, 1058972.0);
vec2 ch_4 = vec2(137380.0, 1302788.0);
vec2 ch_5 = vec2(2048263.0, 1058972.0);
vec2 ch_6 = vec2(401671.0, 1190044.0);
vec2 ch_7 = vec2(2032673.0, 66576.0);
vec2 ch_8 = vec2(935187.0, 1190044.0);
vec2 ch_9 = vec2(935187.0, 1581336.0);
vec2 ch_col = vec2(195.0, 1560.0);
vec2 ch_scl = vec2(195.0, 1544.0);
vec2 ch_les = vec2(135300.0, 66052.0);
vec2 ch_equ = vec2(496.0, 3968.0);
vec2 ch_grt = vec2(528416.0, 541200.0);
vec2 ch_que = vec2(934929.0, 1081352.0);
vec2 ch_ats = vec2(935285.0, 714780.0);
vec2 ch_A = vec2(935188.0, 780450.0);
vec2 ch_B = vec2(1983767.0, 1190076.0);
vec2 ch_C = vec2(935172.0, 133276.0);
vec2 ch_D = vec2(1983764.0, 665788.0);
vec2 ch_E = vec2(2048263.0, 1181758.0);
vec2 ch_F = vec2(2048263.0, 1181728.0);
vec2 ch_G = vec2(935173.0, 1714334.0);
vec2 ch_H = vec2(1131799.0, 1714338.0);
vec2 ch_I = vec2(921665.0, 33308.0);
vec2 ch_J = vec2(66576.0, 665756.0);
vec2 ch_K = vec2(1132870.0, 166178.0);
vec2 ch_L = vec2(1065220.0, 133182.0);
vec2 ch_M = vec2(1142100.0, 665762.0);
vec2 ch_N = vec2(1140052.0, 1714338.0);
vec2 ch_O = vec2(935188.0, 665756.0);
vec2 ch_P = vec2(1983767.0, 1181728.0);
vec2 ch_Q = vec2(935188.0, 698650.0);
vec2 ch_R = vec2(1983767.0, 1198242.0);
vec2 ch_S = vec2(935171.0, 1058972.0);
vec2 ch_T = vec2(2035777.0, 33288.0);
vec2 ch_U = vec2(1131796.0, 665756.0);
vec2 ch_V = vec2(1131796.0, 664840.0);
vec2 ch_W = vec2(1131861.0, 699028.0);
vec2 ch_X = vec2(1131681.0, 84130.0);
vec2 ch_Y = vec2(1131794.0, 1081864.0);
vec2 ch_Z = vec2(1968194.0, 133180.0);
vec2 ch_lsb = vec2(925826.0, 66588.0);
vec2 ch_rsl = vec2(16513.0, 16512.0);
vec2 ch_rsb = vec2(919584.0, 1065244.0);
vec2 ch_pow = vec2(272656.0, 0.0);
vec2 ch_usc = vec2(0.0, 62.0);
vec2 ch_a = vec2(224.0, 649374.0);
vec2 ch_b = vec2(1065444.0, 665788.0);
vec2 ch_c = vec2(228.0, 657564.0);
vec2 ch_d = vec2(66804.0, 665758.0);
vec2 ch_e = vec2(228.0, 772124.0);
vec2 ch_f = vec2(401543.0, 1115152.0);
vec2 ch_g = vec2(244.0, 665474.0);
vec2 ch_h = vec2(1065444.0, 665762.0);
vec2 ch_i = vec2(262209.0, 33292.0);
vec2 ch_j = vec2(131168.0, 1066252.0);
vec2 ch_k = vec2(1065253.0, 199204.0);
vec2 ch_l = vec2(266305.0, 33292.0);
vec2 ch_m = vec2(421.0, 698530.0);
vec2 ch_n = vec2(452.0, 1198372.0);
vec2 ch_o = vec2(228.0, 665756.0);
vec2 ch_p = vec2(484.0, 667424.0);
vec2 ch_q = vec2(244.0, 665474.0);
vec2 ch_r = vec2(354.0, 590904.0);
vec2 ch_s = vec2(228.0, 114844.0);
vec2 ch_t = vec2(8674.0, 66824.0);
vec2 ch_u = vec2(292.0, 1198868.0);
vec2 ch_v = vec2(276.0, 664840.0);
vec2 ch_w = vec2(276.0, 700308.0);
vec2 ch_x = vec2(292.0, 1149220.0);
vec2 ch_y = vec2(292.0, 1163824.0);
vec2 ch_z = vec2(480.0, 1148988.0);
vec2 ch_lpa = vec2(401542.0, 66572.0);
vec2 ch_bar = vec2(266304.0, 33288.0);
vec2 ch_rpa = vec2(788512.0, 1589528.0);
vec2 ch_tid = vec2(675840.0, 0.0);
vec2 ch_lar = vec2(8387.0, 1147904.0);
vec2 res;
//Extracts bit b from the given number.
//Shifts bits right (num / 2^bit) then ANDs the result with 1 (mod(result,2.0)).
float extract_bit(float n, float b) {
  b = clamp(b, -1.0, 22.0); //Fixes small artefacts on my nexus 7
  return floor(mod(floor(n / pow(2.0, floor(b))), 2.0));
}
//Returns the pixel at uv in the given bit-packed sprite.
float sprite(vec2 spr, vec2 size, vec2 uv) {
  uv = floor(uv);
  //Calculate the bit to extract (x + y * width) (flipped on x-axis)
  float bit = (size.x - uv.x - 1.0) + uv.y * size.x;

  //Clipping bound to remove garbage outside the sprite's boundaries.
  bool bounds = all(greaterThanEqual(uv, vec2(0)));
  bounds = bounds && all(lessThan(uv, size));

  return bounds ? extract_bit(spr.x, bit - 21.0) + extract_bit(spr.y, bit) : 0.0;
}
vec2 print_pos = vec2(0);
//Prints a character and moves the print position forward by 1 character width.
float char(vec2 ch, vec2 uv) {
  float px = sprite(ch, CHAR_SIZE, uv - print_pos);
  print_pos.x += CHAR_SPACING.x;
  return px;
}
//Returns the digit sprite for the given number.
vec2 get_digit(float d) {
  d = floor(d);
  if(d == 0.0)
      return ch_0;
  if(d == 1.0)
      return ch_1;
  if(d == 2.0)
      return ch_2;
  if(d == 3.0)
      return ch_3;
  if(d == 4.0)
      return ch_4;
  if(d == 5.0)
      return ch_5;
  if(d == 6.0)
      return ch_6;
  if(d == 7.0)
      return ch_7;
  if(d == 8.0)
      return ch_8;
  if(d == 9.0)
      return ch_9;
  return vec2(0.0);
}
//Prints out the given number starting at pos.
float print_number(float number, vec2 pos, vec2 uv) {
  vec2 dec_pos = pos;
  float result = 0.0;
  for(int i = 3; i >= -2; i--) {
      float clip = float(abs(number) > pow(10.0, float(i)) || i == 0); //Clip off leading zeros.
      float digit = mod(number / pow(10.0, float(i)), 10.0);
      if(i == -1) {
          result += sprite(ch_per, CHAR_SIZE, uv - dec_pos) * clip;
          dec_pos.x += CHAR_SPACING.x * clip;
      }
      result += sprite(get_digit(digit), CHAR_SIZE, uv - dec_pos) * clip;
      dec_pos.x += CHAR_SPACING.x * clip;
  }
  return result;
}

//BackGround ----------------------------------------------------

const vec4 hsv2rgb_K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
vec3 hsv2rgb(vec3 c) {
  vec3 p = abs(fract(c.xxx + hsv2rgb_K.xyz) * 6.0 - hsv2rgb_K.www);
  return c.z * mix(hsv2rgb_K.xxx, clamp(p - hsv2rgb_K.xxx, 0.0, 1.0), c.y);
}

//Triangle calcs
float equilateralTriangle(vec2 p) {
  const float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0 / k;
  if(p.x + k * p.y > 0.0)
      p = vec2(p.x - k * p.y, -k * p.x - p.y) / 2.0;
  p.x -= clamp(p.x, -2.0, 0.0);
  return -length(p) * sign(p.y);
}

vec3 eyeRender(vec3 col, vec2 p, float vis) {
  // Calculate blink
  float eyeBlink = smoothstep(-0.28, 0.2, mod(iTime, 0.0));
  eyeBlink -= smoothstep(0.28, 0.4, mod(iTime, 2.5));
  // REPLACEMENT
  vec2 rotatedP = vec2(-p.y + 0.2, p.x);
  // Calculate Almond Eye
  float bl = 1.0;
  bl *= vis;
  float k = -clamp(bl * bl, 0.06, 1.0);
  vec2 pos = vec2(-4.0 * rotatedP.y, 4.0 * rotatedP.x);
  pos = abs(pos);
  float ik = 1.0 / k;
  float parabola_p = ik * (pos.y - 1.1 * ik) / 3.0;
  float parabola_q = 0.25 * ik * ik * pos.x;
  float parabola_h = parabola_q * parabola_q - parabola_p * parabola_p * parabola_p;
  float parabola_r = sqrt(abs(parabola_h));
  float parabola_x = (parabola_h > 0.0) ? pow(parabola_q + parabola_r, 1.0 / 3.0) - pow(abs(parabola_q - parabola_r), 1.0 / 3.0) * sign(parabola_r - parabola_q) : 2.0 * cos(atan(parabola_r, parabola_q) / 3.0) * sqrt(parabola_p);

  float sdEye = length(pos - vec2(parabola_x, k * parabola_x * parabola_x)) * sign(pos.x - parabola_x) - bl + 0.06;

  // Apply smoothstep to color using sdEye
  col += smoothstep(0.015, 0.025, abs(sdEye));
  // Eye core creation and reposition
  vec2 adjustedMousePos = vec2(-mousePos.y, 1.1 * (mousePos.x - 0.07)) * 2.0;
  vec2 diff = 2.0 * rotatedP - adjustedMousePos;
  float distance = length(diff) - 0.3 - 2.0 * smoothstep(0.895, 0.9, 0.0);
  float eyeMask = max(distance, sdEye);
  col = min(col, smoothstep(-0.01, 0.0, eyeMask * vis));
  return col;
}
float animSpeed = (iTime * (0.7)); // 240 degrees rotation



vec3 tradeTriRender(vec3 col, vec3 ro, vec3 rd) {
// Triangle fill color
  vec3 fillColor = vec3(0.005, 0.0, 0.0);
  float isleftHalf;

// Triangle calcs
  const vec4 tpdim = vec4(0.0, 0.0, 1.0, -2.0);
  float tpd = -(dot(ro, tpdim.xyz) + tpdim.w) / dot(rd, tpdim.xyz);
  vec3 pp = ro + rd * tpd;
  vec3 triColor;
  vec3 eyeColor;
    //...................Triangle Static
  vec2 pTriStatic = pp.xy;
  pTriStatic.x = -pTriStatic.x;
    // triangle resize
  pTriStatic *= 0.5;
    // triangle y offset
  pTriStatic.y -= 0.58;
  pTriStatic.x -= 0.0001;
  pTriStatic.x += 0.0;
    // triangle displacement
  float dtS = equilateralTriangle(pTriStatic);

    //...................Triangle Liquidators

  vec2 p2 = pp.xy;
  p2.x = -p2.x;
// triangle resize
  p2 *= 0.5;
// triangle offset
  p2.y -= 0.58;
  p2.x += 0.002;
  p2.x -= 0.0 + iAnimProgress_3.y * 0.1 - iAnimProgress_3.z * 0.1;
// triangle inner glow factor
  vec3 gcol2 = hsv2rgb(vec3(1.0, 0.8 - (iAnimProgress_1.x * 0.4) + (iAnimProgress_3.x * 0.4), 0.006 - iAnimProgress_1.x * 0.0035 - iAnimProgress_1.y * 0.0015 + iAnimProgress_1.z * 0.0015));
// triangle displacement
  float dt2 = equilateralTriangle(p2);
// Smooth the cut edge of the triangle
  if(p2.x > 0.0) {
  // Left half of the triangle
      vec3 leftHalfColor = dt2 < 0.0 ? fillColor : col;
      leftHalfColor += (gcol2 / max(abs(dt2), 0.001)) * smoothstep(0.5, 0.0, dt2);


  // Blend the two halves together
      float blendFactor2 = smoothstep(0.0, 0.003, p2.x); // Adjust the blend factor as needed
      col = mix(col, leftHalfColor, blendFactor2);
  }

  vec2 p = pp.xy;
  p.x = -p.x;

  // triangle resize
  p *= 0.5;
  // triangle y offset
  p.y -= 0.58;
  p.x -= 0.002;

  p.x += 0.0 + iAnimProgress_3.y * 0.08 - iAnimProgress_3.z * 0.08;

   // triangle inner glow factor
  vec3 gcol = hsv2rgb(vec3(1.0, 0.8 - (iAnimProgress_1.x * 0.4) + (iAnimProgress_3.x * 0.4), 0.006 - iAnimProgress_1.x * 0.0035 - iAnimProgress_1.y * 0.0015 + iAnimProgress_1.z * 0.0015));
 // triangle displacement
  float dt = equilateralTriangle(p);

  // Split the triangle by adding a condition based on the y-coordinate of the point.
  // Smooth the right half of the triangle
  if(p.x < 0.0) {
    // Right half of the triangle
      vec3 rightHalfColor = dt < 0.0 ? fillColor : col;
      rightHalfColor += (gcol / max(abs(dt), 0.001)) * smoothstep(0.5, 0.0, dt);

    // Blend the two halves together
      float blendFactor = smoothstep(0.0, 0.003, -p.x); // Adjust the blend factor as needed
      col = mix(col, rightHalfColor, blendFactor);
  }

  //...................Text How it works
  if(iAnimProgress_1.x > 0.5 && iAnimProgress_3.x < 0.1) {
      print_pos -= print_pos;
      print_pos -= vec2(32.0, -34.0);
      float colT;
      float ScaleT = 95.0;
      colT += char(ch_I, p * ScaleT);
      colT += char(ch_N, p * ScaleT);
      colT += char(ch_T, p * ScaleT);
      colT += char(ch_E, p * ScaleT);
      colT += char(ch_N, p * ScaleT);
      colT += char(ch_T, p * ScaleT);
      colT += char(ch_spc, p * ScaleT);
      colT += char(ch_P, p * ScaleT);
      colT += char(ch_O, p * ScaleT);
      colT += char(ch_O, p * ScaleT);
      colT += char(ch_L, p * ScaleT);
      col = mix(col, vec3(3.0, 2.0, 2.0), colT * (iAnimProgress_1.x - (iAnimProgress_1.y * 0.8) + (iAnimProgress_1.z * 0.8) - iAnimProgress_3.x));
  }

  print_pos -= print_pos;
  print_pos -= vec2(-28.0, 49.0);
  print_pos.x += iAnimProgress_3.y * 13.0;
  float col2;
  float ScaleZ = 100.0;
  col2 += char(ch_P, p * ScaleZ);
  col2 += char(ch_A, p * ScaleZ);
  col2 += char(ch_R, p * ScaleZ);
  col2 += char(ch_T, p * ScaleZ);
  col2 += char(ch_Y, p * ScaleZ);
  col2 += char(ch_spc, p * ScaleZ);
  col2 += char(ch_B, p * ScaleZ);
  col = mix(col, vec3(3.0, 0.3, 0.3), col2 * (iAnimProgress_2.y - iAnimProgress_3.z));

  print_pos -= print_pos;
  print_pos -= vec2(69.0, 49.0);
  float col3;
  col3 += char(ch_P, p * ScaleZ);
  col3 += char(ch_A, p * ScaleZ);
  col3 += char(ch_R, p * ScaleZ);
  col3 += char(ch_T, p * ScaleZ);
  col3 += char(ch_Y, p * ScaleZ);
  col3 += char(ch_spc, p * ScaleZ);
  col3 += char(ch_A, p * ScaleZ);
  col = mix(col, vec3(3.0, 1.0, 1.0), col3 * (iAnimProgress_1.z - iAnimProgress_3.z));

  for(int i = 1; i <= 6; i++) {
  //...................Triangle Liquidators

      vec2 p = pp.xy;
  // Circular motion parameters
      float startTime = float(i);
      float angle = animSpeed + startTime; // 240 degrees rotation

      float tradeAnim = (sin(angle) + 1.0) / 2.0;

  // Triangle y offset
      p.y -= 3.8;

      float calSin = sin(angle);
      float calCos = cos(angle);

      if(calCos > 0.0) {
          p.x += calCos * 2.5;
          p.y += calSin * 1.5;
          p *= 0.5 + (tradeAnim / 2.0);
          isleftHalf = 0.0;
          if(startTime == 1.0) {
              triColor = vec3(1.0, 0.1, 0.006);
              eyeColor = vec3(1.5, 1.5, 1.5);
          } else {
              triColor = vec3(1.0, 0.1, 0.006);
              eyeColor = vec3(1.5, 1.5, 1.5);
          }
      } else {
          p.x += 0.0;
          p.y += 1.5;
          tradeAnim = 1.0;
          tradeAnim = max((sin(angle) * 10.0) - 9.0, 0.0);
          isleftHalf = 1.0;
          if(startTime == 1.0) {

              triColor = vec3(1.0, 0.9, 0.006);
              eyeColor = vec3(3.5, 0.5, 0.5);
          } else {
              triColor = vec3(1.0, 0.1, 0.006);
              eyeColor = vec3(1.5, 1.5, 1.5);
          }
      }

  // Invert Triangle 
      p.x = -p.x;

  // Triangle displacement
      float dt = equilateralTriangle(p);

  //...Text Liquidators
      print_pos -= print_pos;
      print_pos -= vec2(30.0, 15.0);
      float charCol;
      float Scale = 50.0;
      charCol += char(ch_L, p * Scale);
      charCol += char(ch_I, p * Scale);
      charCol += char(ch_Q, p * Scale);
      charCol += char(ch_U, p * Scale);
      charCol += char(ch_I, p * Scale);
      charCol += char(ch_D, p * Scale);
      charCol += char(ch_A, p * Scale);
      charCol += char(ch_T, p * Scale);
      charCol += char(ch_O, p * Scale);
      charCol += char(ch_R, p * Scale);

      float staticTextColSolve;
      float ScaleS = 65.0;
      float staticTextCol;
      if(startTime == 1.0) {
      //...Text Liquidate party
          print_pos -= print_pos;
          print_pos -= vec2(18.0, 15.0);
          float ScaleLiquidParty = 25.0;
          staticTextCol += char(ch_dsh, pTriStatic * ScaleLiquidParty);
          staticTextCol += char(ch_dsh, pTriStatic * ScaleLiquidParty);
      //...Text Liquidate party number
          print_pos -= print_pos;
          print_pos -= vec2(55.0, 27.0 * tradeAnim);
          float ScaleLiquidPartyNum = 85.0;
          staticTextCol += char(ch_dsh, pTriStatic * ScaleLiquidPartyNum);
          staticTextCol += char(ch_dol, pTriStatic * ScaleLiquidPartyNum);
          staticTextCol += char(ch_1, pTriStatic * ScaleLiquidPartyNum);
          staticTextCol += char(ch_B, pTriStatic * ScaleLiquidPartyNum);
          staticTextCol += char(ch_T, pTriStatic * ScaleLiquidPartyNum);
          staticTextCol += char(ch_C, pTriStatic * ScaleLiquidPartyNum);

      //...Text Liquidate
          print_pos -= print_pos;
          print_pos -= vec2(27.0, -3.0);
          staticTextCol += char(ch_L, pTriStatic * ScaleS);
          staticTextCol += char(ch_I, pTriStatic * ScaleS);
          staticTextCol += char(ch_Q, pTriStatic * ScaleS);
          staticTextCol += char(ch_U, pTriStatic * ScaleS);
          staticTextCol += char(ch_I, pTriStatic * ScaleS);
          staticTextCol += char(ch_D, pTriStatic * ScaleS);
          staticTextCol += char(ch_A, pTriStatic * ScaleS);
          staticTextCol += char(ch_T, pTriStatic * ScaleS);
          staticTextCol += char(ch_E, pTriStatic * ScaleS);
      } else {

      //reset print position
          print_pos -= print_pos;
          if(startTime == 2.0 || startTime == 4.0 || startTime == 6.0) {
              print_pos -= vec2(87.0 + (iAnimProgress_3.y * 10.0), 97.0 + (10.0 * tradeAnim));
          }
          else {
            print_pos -= vec2(-17.0 - (iAnimProgress_3.y * 10.0), 97.0 + (10.0 * tradeAnim));
          }
     //set print position

          float colCVAA2;
          float scaleCVAA2 = 57.0;

          colCVAA2 += char(ch_crs, p * scaleCVAA2);
          colCVAA2 += char(ch_1, p * scaleCVAA2);
          colCVAA2 += char(ch_spc, p * scaleCVAA2);
          colCVAA2 += char(ch_B, p * scaleCVAA2);
          colCVAA2 += char(ch_T, p * scaleCVAA2);
          colCVAA2 += char(ch_C, p * scaleCVAA2);
          colCVAA2 += char(ch_spc, p * scaleCVAA2);
          colCVAA2 += char(ch_L, p * scaleCVAA2);
          colCVAA2 += char(ch_O, p * scaleCVAA2);
          colCVAA2 += char(ch_N, p * scaleCVAA2);
          colCVAA2 += char(ch_G, p * scaleCVAA2);
          col = mix(col, vec3(3.0, 3.0, 3.0), colCVAA2 * tradeAnim * isleftHalf * (iAnimProgress_3.x - iAnimProgress_3.z));

          print_pos -= print_pos;
          if(startTime == 2.0 || startTime == 4.0 || startTime == 6.0) {
            print_pos -= vec2(-17.0 - (iAnimProgress_3.y * 10.0), 97.0 + (10.0 * tradeAnim));
          } else {
            print_pos -= vec2(87.0 + (iAnimProgress_3.y * 10.0), 97.0 + (10.0 * tradeAnim));
          }
          float colIntentB;
          colIntentB += char(ch_dsh, p * scaleCVAA2);
          colIntentB += char(ch_1, p * scaleCVAA2);
          colIntentB += char(ch_spc, p * scaleCVAA2);
          colIntentB += char(ch_B, p * scaleCVAA2);
          colIntentB += char(ch_T, p * scaleCVAA2);
          colIntentB += char(ch_C, p * scaleCVAA2);
          colIntentB += char(ch_spc, p * scaleCVAA2);
          colIntentB += char(ch_S, p * scaleCVAA2);
          colIntentB += char(ch_H, p * scaleCVAA2);
          colIntentB += char(ch_O, p * scaleCVAA2);
          colIntentB += char(ch_R, p * scaleCVAA2);
          colIntentB += char(ch_T, p * scaleCVAA2);

          col = mix(col, vec3(3.0, 0.3, 0.3), colIntentB * tradeAnim * isleftHalf * (iAnimProgress_3.x - iAnimProgress_3.z));

    //...Text Solvent
          print_pos -= print_pos;
          print_pos -= vec2(20.0, -3.0);
          staticTextColSolve += char(ch_S, pTriStatic * ScaleS);
          staticTextColSolve += char(ch_O, pTriStatic * ScaleS);
          staticTextColSolve += char(ch_L, pTriStatic * ScaleS);
          staticTextColSolve += char(ch_V, pTriStatic * ScaleS);
          staticTextColSolve += char(ch_E, pTriStatic * ScaleS);
          staticTextColSolve += char(ch_N, pTriStatic * ScaleS);
          staticTextColSolve += char(ch_T, pTriStatic * ScaleS);
      }

      float vis = max(tradeAnim * (iAnimProgress_3.x - iAnimProgress_3.y), 0.0);
  // Triangle visibility parameter
      if(dt < 0.0) {
          col = mix(fillColor, col, 1.0 - vis);
      }

  // Triangle liquidator glow color
      vec3 tricol = hsv2rgb(triColor);

  // Triangle static trade  glow factor
      vec3 gcolS = hsv2rgb(triColor);

  //add triangle static to col
      col += (gcolS / max(abs(dtS), 0.001)) * smoothstep(0.5, 0.0, dtS) * isleftHalf * vis / 2.0;

  // add triangle liquidators to col
      col += (tricol / max(abs(dt), 0.001)) * smoothstep(0.5, 0.0, dt) * vis;
  //add text Liquidator to col
      col = mix(col, eyeColor, charCol * vis);

  //add text static to col
      col += staticTextColSolve * isleftHalf * vis;

  //add text liquidate to col
      col = mix(col, vec3(3.0, 0.3, 0.3), staticTextCol * isleftHalf * vis);

  // add eye to col
      col = mix(vis * iAnimProgress_3.x * (eyeColor), col, eyeRender(col, p, vis));

  }

  if(iAnimProgress_2.z > 0.5 && iAnimProgress_3.x < 0.5) {
      print_pos -= print_pos;
      print_pos -= vec2(-9.0 + (iAnimProgress_2.z * 100.0), 40.0);

      float colCVAA;
      float scaleCVAA = 115.0;

      colCVAA += char(ch_crs, p * scaleCVAA);
      colCVAA += char(ch_1, p * scaleCVAA);
      colCVAA += char(ch_spc, p * scaleCVAA);
      colCVAA += char(ch_B, p * scaleCVAA);
      colCVAA += char(ch_T, p * scaleCVAA);
      colCVAA += char(ch_C, p * scaleCVAA);
      colCVAA += char(ch_spc, p * scaleCVAA);
      colCVAA += char(ch_L, p * scaleCVAA);
      colCVAA += char(ch_O, p * scaleCVAA);
      colCVAA += char(ch_N, p * scaleCVAA);
      colCVAA += char(ch_G, p * scaleCVAA);


      print_pos -= print_pos;
      print_pos -= vec2(79.0 - (iAnimProgress_2.z * 100.0) - iAnimProgress_3.y * 15.0, 40.0);
      float colIntentB;
      float ScaleIntentB = 115.0;

      colIntentB += char(ch_dsh, p * ScaleIntentB);
      colIntentB += char(ch_1, p * ScaleIntentB);
      colIntentB += char(ch_spc, p * ScaleIntentB);
      colIntentB += char(ch_B, p * ScaleIntentB);
      colIntentB += char(ch_T, p * ScaleIntentB);
      colIntentB += char(ch_C, p * ScaleIntentB);
      colIntentB += char(ch_spc, p * ScaleIntentB);
      colIntentB += char(ch_S, p * ScaleIntentB);
      colIntentB += char(ch_H, p * ScaleIntentB);
      colIntentB += char(ch_O, p * ScaleIntentB);
      colIntentB += char(ch_R, p * ScaleIntentB);
      colIntentB += char(ch_T, p * ScaleIntentB);

      if (iAnimProgress_2.z > 0.5 && iAnimProgress_3.z < 0.5){
        col = mix(col, vec3(3.0, 3.0, 3.0), colCVAA * (iAnimProgress_2.z - iAnimProgress_3.z));
        col = mix(col, vec3(3.0, 0.3, 0.3), colIntentB * (iAnimProgress_2.z - iAnimProgress_3.z));
      }

  }
  return col;
}

vec3 triRender_left(vec3 col, vec3 ro, vec3 rd) {
// Triangle fill color
  vec3 fillColor = vec3(0.009, 0.0, 0.0);
// triangle calcs
  const vec4 tpdim = vec4(0.0, 0.0, 1.0, -2.0);
  float tpd = -(dot(ro, tpdim.xyz) + tpdim.w) / dot(rd, tpdim.xyz);
  vec3 pp = ro + rd * tpd;
  vec2 p = pp.xy;
// triangle resize
  p *= 1.0;
// triangle offset
  p.y -= 0.58;
  p.x -= 1.0 + iAnimProgress_1.x * 1.00 - iAnimProgress_1.z * 1.0;
// triangle inner glow factor
  p.x = -p.x;
  vec3 gcol = hsv2rgb(vec3(1.0, 0.8, 0.006));
// triangle displacement
  float dt = equilateralTriangle(p);
// Triangle visibility parameter
  float visibility = 1.0 - (iAnimProgress_1.x * 0.9) + (iAnimProgress_1.z * 0.9);
  if(dt < 0.0) {
      col = mix(fillColor, col, visibility);
  }
// triangle edge glow mod
  col += (gcol / max(abs(dt), 0.001)) * smoothstep(0.5, 0.0, dt) * (iAnimProgress_1.x * 0.8 - iAnimProgress_3.x * 0.8);

  print_pos -= print_pos;
  print_pos -= vec2(23.0 - (iAnimProgress_2.z * 100.0), 8.0);
  float colIntentA;
  float ScaleIntentA = 50.0;
  colIntentA += char(ch_I, p * ScaleIntentA);
  colIntentA += char(ch_N, p * ScaleIntentA);
  colIntentA += char(ch_T, p * ScaleIntentA);
  colIntentA += char(ch_E, p * ScaleIntentA);
  colIntentA += char(ch_N, p * ScaleIntentA);
  colIntentA += char(ch_T, p * ScaleIntentA);
  colIntentA += char(ch_spc, p * ScaleIntentA);
  colIntentA += char(ch_A, p * ScaleIntentA);
  col = mix(col, vec3(3.0, 1.0, 1.0), colIntentA * (iAnimProgress_1.y - iAnimProgress_2.z));

  print_pos -= print_pos;
  print_pos -= vec2(10.0, 20.0);
  float colYOU;
  float ScaleT = 50.0;
  colYOU += char(ch_Y, p * ScaleT);
  colYOU += char(ch_O, p * ScaleT);
  colYOU += char(ch_U, p * ScaleT);
  col = mix(col, vec3(3.0, 1.0, 1.0), colYOU * (iAnimProgress_1.x - iAnimProgress_1.z));

  print_pos -= print_pos;
  print_pos -= vec2(-20.0, -23.0);
  float tradeTextCol;
  float ScaleS = 40.0;
  tradeTextCol += char(ch_E, p * ScaleS);
  tradeTextCol += char(ch_X, p * ScaleS);
  tradeTextCol += char(ch_E, p * ScaleS);
  tradeTextCol += char(ch_C, p * ScaleS);
  tradeTextCol += char(ch_U, p * ScaleS);
  tradeTextCol += char(ch_T, p * ScaleS);
  tradeTextCol += char(ch_E, p * ScaleS);
  col = mix(col, vec3(3.0, 2.0, 2.0), iAnimProgress_2.y * tradeTextCol * (iAnimProgress_2.z - iAnimProgress_3.x) * (sin((iAnimProgress_2.z) * 3.5)));

  return col;
}

vec3 triRender_right(vec3 col, vec3 ro, vec3 rd) {
// Triangle fill color
  vec3 fillColor = vec3(0.005, 0.0, 0.0);
// Triangle calcs
  const vec4 tpdim = vec4(0.0, 0.0, 1.0, -2.0);
  float tpd = -(dot(ro, tpdim.xyz) + tpdim.w) / dot(rd, tpdim.xyz);
  vec3 pp = ro + rd * tpd;
  vec2 p = pp.xy;
// Triangle resize
  p *= 1.0;
// Triangle y offset
  p.y -= 0.58;
  p.x += 2.0 - iAnimProgress_2.y;
  p.x = -p.x;
// Triangle inner glow factor
  vec3 gcol = hsv2rgb(vec3(1.0, 0.9 - (iAnimProgress_3.x * 0.1), 0.006));
// Triangle displacement
  float dt = equilateralTriangle(p);
// Triangle visibility parameter
  float visibility = 1.0 - (iAnimProgress_1.x * 0.9) + (iAnimProgress_2.y * 0.9);
  if(dt < 0.0) {
      col = mix(fillColor, col, visibility);
  }

// triangle edge glow mod
  col += (gcol / max(abs(dt), 0.001)) * smoothstep(0.5, 0.0, dt) * ((iAnimProgress_1.x * 0.8) - (iAnimProgress_1.y * 0.6) + (iAnimProgress_2.y * 0.8) - (iAnimProgress_3.x * 1.0));

  print_pos -= print_pos;
  print_pos -= vec2(23.0 + (iAnimProgress_2.z * 100.0), 8.0);
  float colIntentB;
  float scalecolIntentB = 50.0;
  colIntentB += char(ch_I, p * scalecolIntentB);
  colIntentB += char(ch_N, p * scalecolIntentB);
  colIntentB += char(ch_T, p * scalecolIntentB);
  colIntentB += char(ch_E, p * scalecolIntentB);
  colIntentB += char(ch_N, p * scalecolIntentB);
  colIntentB += char(ch_T, p * scalecolIntentB);
  colIntentB += char(ch_spc, p * scalecolIntentB);
  colIntentB += char(ch_B, p * scalecolIntentB);

  col = mix(col, vec3(3.0, 0.3, 0.3), colIntentB * (iAnimProgress_2.x - iAnimProgress_2.z));

  print_pos -= print_pos;
  print_pos -= vec2(18.0, 20.0);
  float colT;
  float ScaleT = 50.0;
  colT += char(ch_H, p * ScaleT);
  colT += char(ch_E, p * ScaleT);
  colT += char(ch_D, p * ScaleT);
  colT += char(ch_G, p * ScaleT);
  colT += char(ch_E, p * ScaleT);
  colT += char(ch_R, p * ScaleT);
  col = mix(col, vec3(3.0, 0.3, 0.3), colT * (iAnimProgress_1.x - (iAnimProgress_1.y * 0.7) + (iAnimProgress_2.x * 0.7) - iAnimProgress_2.y));

  return col;
}

vec3 renderTriangle(vec3 col, vec3 ro, vec3 rd, float scaleFactor, float xOffset) {
// Triangle fill color
  vec3 fillColor = vec3(0.009, 0.0, 0.0);
// Triangle dimensions
  const vec4 tpdim = vec4(0.0, 0.0, 1.0, -2.0);
// Calculate intersection with the triangle
  float tpd = -(dot(ro, tpdim.xyz) + tpdim.w) / dot(rd, tpdim.xyz);
  vec3 pp = ro + rd * tpd;
  vec2 p = pp.xy;
// Resize and offset the triangle
  p *= scaleFactor;
  p.x += xOffset;
  p.y -= 0.58;
  p.x += 1.0 + iAnimProgress_1.x * 1.0;
  float a;

// Triangle inner glow factor
  vec3 gcol = hsv2rgb(vec3(1.0, 0.9 - (iAnimProgress_3.x * 0.1), 0.006));
// Calculate triangle displacement
  float dt = equilateralTriangle(p);
// Triangle visibility parameter
  float visibility = 1.0 - (iAnimProgress_1.x * scaleFactor * 0.2) + (iAnimProgress_1.y * scaleFactor * 0.1) + (iAnimProgress_2.y * scaleFactor * 0.1);
  if(dt < 0.0) {
      col = mix(fillColor, col, visibility);
  }
// Triangle edge glow mod
  col += (gcol / max(abs(dt), 0.001)) * smoothstep(0.5, 0.0, dt) * ((iAnimProgress_1.x * scaleFactor * 0.1) - (iAnimProgress_1.y * scaleFactor * 0.05) - (iAnimProgress_2.y * scaleFactor * 0.05));
  return col;
}

vec3 triRender_right_4(vec3 col, vec3 ro, vec3 rd) {
  return renderTriangle(col, ro, rd, 1.25, 1.22);
}

vec3 triRender_right_3(vec3 col, vec3 ro, vec3 rd) {
  return renderTriangle(col, ro, rd, 1.16, 0.8);
}

vec3 triRender_right_2(vec3 col, vec3 ro, vec3 rd) {
  return renderTriangle(col, ro, rd, 1.08, 0.4);
}

//-----Outer Sky

//sun dir right-left , up-down , back forth
vec3 sunDir = normalize(vec3(-mousePos.x * 4.0, -2.0 + (mousePos.y * 2.0) + iAnimProgress_3.x * 0.0 - iAnimProgress_3.z * 4.0, 20.0));
const vec3 sunCol = HSV2RGB(vec3(0.00, 0.7, 0.002));

vec3 outerSkyRender(vec3 ro, vec3 rd) {
  vec3 col;
//sun settings
  col += sunCol / pow((1.002 - ((dot(sunDir, rd)))), 1.9 - iAnimProgress_1.x + iAnimProgress_3.x * 0.5 + iAnimProgress_3.y * 0.5);
//horizon light modifier
  vec3 gcol = hsv2rgb(vec3(1.0, 0.0, 0.002 - iAnimProgress_1.x * 0.0018 + iAnimProgress_3.y * 0.004));
  gcol = mix(gcol, vec3(0.0), smoothstep(0.5, 1.0, abs(rd.y)));
//atmosphere air color
  col += vec3(0.1);
  col += gcol / abs(rd.y);
  return col;
}

//-----Ground
vec2 tilesSize = vec2(1.0);

vec3 groundRender(vec3 col, vec3 ro, vec3 rd) {
  const vec3 gpn = normalize(vec3(0.0, 1.0, 0.0));
  float gpd = -(dot(ro, vec4(gpn, 0.0).xyz) + vec4(gpn, 0.0).w) / dot(rd, vec4(gpn, 0.0).xyz);
  if(gpd < 1.0) {
      return col;
  }
  // Tiles reflection mod
  vec3 gp = ro + rd * gpd;
  float gpfre = pow(1.15 + dot(rd, gpn), 18.0);

  // Calculate reflected ray
  vec3 grr = reflect(rd, gpn);

  // Calculate ggp and its properties
  vec2 ggp = gp.xz + vec2(0.0, iTime); // Only modify the time component
  float dfy = dFdy(ggp.y);

  // Tiles lines color modifier
  vec2 c = floor((ggp));
  ggp = mod(ggp + tilesSize * 0.5, tilesSize) - tilesSize * 0.5;
  float ggd = min(abs(ggp.x), abs(ggp.y));
  vec3 gcol = hsv2rgb(vec3(0.0, 0.7, 0.005));

  // Calculate reflections
  vec3 rcol = outerSkyRender(grr, grr);
  rcol = tradeTriRender(rcol, gp, grr);

  //Floor calcs
  col = gcol / max(ggd, 0.25 * dfy) * exp((-0.5 - 1.0 * (iAnimProgress_1.x * 0.5 - iAnimProgress_3.x * 0.5)) * gpd);
  //ground reflection factor
  if(iAnimProgress_1.x <= 1.0) {
      col += rcol * gpfre / (9.0 + (iAnimProgress_1.x * 9.0) - iAnimProgress_3.x * 0.0);
  }
  return col;
}

vec3 render(vec3 ro, vec3 rd, vec2 p) {

  vec3 col = outerSkyRender(rd, rd);
  col = groundRender(col, ro, rd);
  col = tradeTriRender(col, ro, rd);

  if(iAnimProgress_1.x > 0.1 && iAnimProgress_3.x < 0.5) {
      col = triRender_left(col, ro, rd);
      col = triRender_right_4(col, ro, rd);
      col = triRender_right_3(col, ro, rd);
      col = triRender_right_2(col, ro, rd);
      col = triRender_right(col, ro, rd);
  }

  return col;
}

vec3 effect(vec2 p) {
  const float fov = tan(TAU / 6.0);
  float mobileMode;
  float mobileRes = iResolution.x / iResolution.y;
  if(mobileRes < 1.0) {
      mobileMode = 1.0;
  } else {
      mobileMode = 0.0;
  }
  vec3 ro;
  if(mobileMode == 0.0) {

  //-------------camera location 
      ro = 1.0 * vec3(
  //right-left,
      iAnimProgress_1.x * 1.8 + iAnimProgress_3.x * 0.9 - iAnimProgress_3.z * 1.4,
  //up-down,
      0.5 + iAnimProgress_1.x * 0.25 - (iAnimProgress_3.x * 0.0) - iAnimProgress_3.y * 0.3,
  //front-back
      -5.0 + (iAnimProgress_1.x * 2.0) + iAnimProgress_3.z * 3.5);
  } else {
      ro = 1.0 * vec3(
  //right-left,
      0.0,
  //up-down,
      0.5 + iAnimProgress_1.x * 0.25 - (iAnimProgress_3.x * 0.0) - iAnimProgress_3.y * 0.3,
  //front-back
      -12.0 + (iAnimProgress_1.x * 2.0) + iAnimProgress_3.z * 9.5 + iAnimProgress_3.y * 2.5);
  }

  //camera look at right-left,up-down,front-back
  vec3 la;
  if(mobileMode == 0.0) {
      la = vec3(
  //right-left,
      0.0 - (iAnimProgress_3.x * 40.0),
  //up-down,
      225.0,
  //front-back
      1000.0);
  } else {
      la = vec3(
  //right-left,
      0.0,
  //up-down,
      225.0 + (iAnimProgress_3.x * 100.0) - (iAnimProgress_3.z * 240.0),
  //front-back
      1000.0);
  }
  //camera rotation x-y-z
  vec3 up = vec3(0.0, 1.0, 0.0);

  vec3 ww = normalize(la - ro);
  vec3 uu = normalize(cross(up, ww));
  vec3 vv = cross(ww, uu);
  vec3 rd = normalize(-p.x * uu + p.y * vv + fov * ww);
  vec3 col = render(ro, rd, p);
  return col;
}

void mainImage(out vec4 fragColor, in vec2 fragCoord) {
  vec2 p = -1. + (2. * fragCoord / iResolution.xy);
  p.x *= iResolution.x / iResolution.y;
  vec3 col = effect(p);
  fragColor = vec4(col, 1.0);
}
void main() {
  mainImage(gl_FragColor, gl_FragCoord.xy);
}
</script>

<script>

  // Define global variables
  let container;
  let camera, scene, renderer;
  let uniforms;
  let startTime;
  let scrollProgress;

  // Initialize the scene
  init();
  animate();

  // Initialize the Three.js scene
  function init() {
    // Setup gsap plugins
    gsap.registerPlugin(ScrollTrigger);
    gsap.registerPlugin(TextPlugin);

    container = document.getElementById("webgl-container");
    startTime = Date.now();

    camera = new THREE.OrthographicCamera(
      0,
      window.innerWidth,
      0,
      window.innerHeight,
      1,
      1000
    );

    scene = new THREE.Scene();

    const geometry = new THREE.PlaneBufferGeometry(
      window.innerWidth,
      window.innerHeight
    );

    // Define uniforms
    uniforms = {
      iTime: { type: "f", value: 1.0 },
      iResolution: { type: "v2", value: new THREE.Vector2() },
      iMousePos: { type: "v2", value: new THREE.Vector2() },
      iScrollProgress: { type: "f", value: 0.0 },
      iAnimProgress_1: { type: "v3", value: new THREE.Vector3() },
      iAnimProgress_2: { type: "v3", value: new THREE.Vector3() },
      iAnimProgress_3: { type: "v3", value: new THREE.Vector3() },
      iAnimProgress_4: { type: "v3", value: new THREE.Vector3() },
      iAnimProgress_5: { type: "v3", value: new THREE.Vector3() },
      iAnimProgress_6: { type: "v3", value: new THREE.Vector3() }

    };

    // Create the shader material
    const material = new THREE.ShaderMaterial({
      uniforms: uniforms,
      vertexShader: `void main() {gl_Position = vec4(position, 1.0);}`,
      fragmentShader: document.getElementById("fragmentShader").textContent
    });

    // Create and add mesh to the scene
    const mesh = new THREE.Mesh(geometry, material);
    scene.add(mesh);

    // Create the renderer
    renderer = new THREE.WebGLRenderer({
      precision: "lowp" // Set precision for smooth gradients and better precision
    });
    renderer.setPixelRatio(window.devicePixelRatio);
    container.appendChild(renderer.domElement);

    // Set up content scroll triggers
    setupContentScrollTrigger();

    // Handle window resizing
    handleResize();
    window.addEventListener("resize", handleResize);

    // Update scroll progress on mouse move and scrolling
    window.addEventListener("mousemove", handleMouseMove);
    window.addEventListener("scroll", updateScrollProgress);
  }

  // Animate the scene
  function animate() {
    render();
    requestAnimationFrame(animate);
  }

  // Render the scene
  function render() {
    const currentTime = Date.now();
    uniforms.iTime.value = (currentTime - startTime) * 0.001;
    renderer.render(scene, camera);
  }

  // Handle window resize
  function handleResize() {
    uniforms.iResolution.value.x = window.innerWidth * window.devicePixelRatio;

    uniforms.iResolution.value.y = window.innerHeight * window.devicePixelRatio;
    renderer.setSize(window.innerWidth, window.innerHeight);
  }

  // Update mouse position
  function handleMouseMove(event) {
    uniforms.iMousePos.value.x = event.clientX * window.devicePixelRatio;
    uniforms.iMousePos.value.y =
      (window.innerHeight - event.clientY) * window.devicePixelRatio;
  }

  // Update scroll progress
  // Set up scroll triggers for animations
  function sectionScroller() {
    const sections = [
      ".section.one",
      ".section.two",
      ".section.three",
      ".section.four",
      ".section.five",
      ".section.six",
      ".section.seven",
      ".section.eight",
      ".section.nine",
      ".section.ten",
    ];
    const scrollToSection = (section) => {
      const sectionElement = document.querySelector(section);
      window.scrollTo({ top: sectionElement.getBoundingClientRect().top, behavior: "smooth" });
    };

    sections.forEach((section, index) => {
      gsap.to({}, {
        duration: 2,
        delay: index * 2,
        onComplete: () => {
          if (index <= 6) {
            scrollToSection(sections[index + 1]);
          }
        }
      });
    });
  }


  gsap.to({}, {
    delay: 4,
    duration: 2,
    scrollTrigger: {
      trigger: ".section.four",
      scrub: true,
    }
  });

  gsap.to(uniforms.iAnimProgress_1.value, {
    x: 1,
    scrollTrigger: {
      trigger: ".section.one",
      start: "0%",
      end: "100%",
      scrub: true
    }
  });
  gsap.to(uniforms.iAnimProgress_1.value, {
    y: 1,
    scrollTrigger: {
      trigger: ".section.two",
      start: "0%",
      end: "100%",
      scrub: true
    }
  });
  gsap.to(uniforms.iAnimProgress_1.value, {
    z: 1,
    scrollTrigger: {
      trigger: ".section.three",
      start: "0%",
      end: "100%",
      scrub: true
    }
  });
  gsap.to(uniforms.iAnimProgress_2.value, {
    x: 1,
    scrollTrigger: {
      trigger: ".section.four",
      start: "0%",
      end: "100%",
      scrub: true
    }
  });
  gsap.to(uniforms.iAnimProgress_2.value, {
    y: 1,
    scrollTrigger: {
      trigger: ".section.five",
      start: "0%",
      end: "100%",
      scrub: true,
    }
  });
  gsap.to(uniforms.iAnimProgress_2.value, {
    z: 1,
    scrollTrigger: {
      trigger: ".section.six",
      start: "0%",
      end: "100%",
      scrub: true
    }
  });

  gsap.to(uniforms.iAnimProgress_3.value, {
    x: 1,
    scrollTrigger: {
      trigger: ".section.seven",
      start: "0%",
      end: "100%",
      scrub: true
    }
  });
  gsap.to(uniforms.iAnimProgress_3.value, {
    y: 1,
    scrollTrigger: {
      trigger: ".section.eight",
      start: "0%",
      end: "100%",
      scrub: true
    }
  });
  gsap.to(uniforms.iAnimProgress_3.value, {
    z: 1,
    scrollTrigger: {
      trigger: ".section.nine",
      start: "0%",
      end: "100%",
      scrub: true
    }
  });
  gsap.to(uniforms.iAnimProgress_4.value, {
    x: 1,
    scrollTrigger: {
      trigger: ".section.ten",
      start: "0%",
      end: "100%",
      scrub: true
    }
  });
</script>